{
  "questionCard": {
    "name": "Monthly Session Status Distribution",
    "collection_id": 22,
    "dataset_query": {
      "database": 3,
      "type": "native",
      "native": {
        "template-tags": {
          "select_state": {
            "type": "dimension",
            "name": "select_state",
            "id": "8ada7cd9-f40b-4cda-a29b-316c9bd32598",
            "display-name": "Select State",
            "default": null,
            "dimension": [
              "field",
              447,
              null
            ],
            "widget-type": "string/=",
            "options": null
          },
          "select_district": {
            "type": "dimension",
            "name": "select_district",
            "id": "47bed2d6-e270-4abb-b648-d7330ed7e406",
            "display-name": "Select District",
            "default": null,
            "dimension": [
              "field",
              458,
              null
            ],
            "widget-type": "string/=",
            "options": null
          },
          "select_block": {
            "type": "dimension",
            "name": "select_block",
            "id": "dadd0967-d096-4a00-9103-4ea4bc17773d",
            "display-name": "Select Block",
            "default": null,
            "dimension": [
              "field",
              450,
              null
            ],
            "widget-type": "string/=",
            "options": null
          },
          "select_cluster": {
            "type": "dimension",
            "name": "select_cluster",
            "id": "fc391466-5390-4019-9d8b-fd0b7301f961",
            "display-name": "Select Cluster",
            "default": null,
            "dimension": [
              "field",
              466,
              null
            ],
            "widget-type": "string/=",
            "options": null
          },
          "select_school": {
            "type": "dimension",
            "name": "select_school",
            "id": "cc636c75-4eee-41ae-a9eb-31d54ee538dd",
            "display-name": "Select School",
            "default": null,
            "dimension": [
              "field",
              460,
              null
            ],
            "widget-type": "string/=",
            "options": null
          }
        },
        "query": "SELECT \r\n    DATE_TRUNC('month', s.updated_at) AS \"Months\",\r\n    s.status AS \"Session Status\",\r\n    COUNT(*) AS \"Total Sessions\"\r\nFROM ${tenantSessionTable} s\r\nJOIN ${tenantUserTable} u\r\n    ON s.mentor_id = u.user_id\r\nWHERE s.org_id = ${orgId}\r\nAND s.deleted_at IS NULL\r\nAND s.updated_at >= DATE_TRUNC('month', CURRENT_DATE) - INTERVAL '12 months'\r\n    [[AND user_profile_one_name = (\r\n    SELECT user_profile_one_name\r\n    FROM ${tenantUserTable}\r\n    WHERE {{select_state}}\r\n    LIMIT 1)]]\r\n\r\n    [[AND user_profile_two_name = (\r\n    SELECT user_profile_two_name\r\n    FROM ${tenantUserTable}\r\n    WHERE {{select_district}}\r\n    AND user_profile_two_name IS NOT NULL AND TRIM(user_profile_two_name) <> ''\r\n    LIMIT 1)]]\r\n    \r\n    [[AND user_profile_three_name = (\r\n    SELECT user_profile_three_name\r\n    FROM ${tenantUserTable}\r\n    WHERE {{select_block}}\r\n    LIMIT 1)]]\r\n    \r\n    [[AND user_profile_four_name = (\r\n    SELECT user_profile_four_name\r\n    FROM ${tenantUserTable}\r\n    WHERE {{select_cluster}}\r\n    LIMIT 1)]]\r\n    \r\n    [[AND user_profile_five_name = (\r\n    SELECT user_profile_five_name\r\n    FROM ${tenantUserTable}\r\n    WHERE {{select_school}}\r\n    LIMIT 1)]]\r\nGROUP BY  \"Months\", s.status\r\nORDER BY  \"Months\", s.status;\r\n"
      }
    },
    "display": "bar",
    "visualization_settings": {
      "graph.show_trendline": false,
      "graph.x_axis.labels_enabled": true,
      "graph.series_order_dimension": null,
      "graph.y_axis.scale": "linear",
      "graph.metrics": [
        "Total Sessions"
      ],
      "graph.y_axis.axis_enabled": true,
      "graph.label_value_formatting": "full",
      "graph.series_order": null,
      "column_settings": {
        "[\"name\",\"week_start\"]": {
          "time_enabled": null
        }
      },
      "series_settings": {
        "total_sessions": {
          "axis": null,
          "display": "bar"
        }
      },
      "graph.dimensions": [
        "Months",
        "Session Status"
      ]
    },
    "parameters": [
      {
        "id": "793e1394-53d2-4578-9e80-7a3ae4eba3a1",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "select_state"
          ]
        ],
        "name": "Select State",
        "slug": "select_state"
      },
      {
        "id": "05c4660f-3589-4791-bba4-2cb7d2bd0ba1",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "select_district"
          ]
        ],
        "name": "Select District",
        "slug": "select_district"
      },
      {
        "id": "7595dcf0-6008-46e6-b5e3-403a657e8e6b",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "select_block"
          ]
        ],
        "name": "Select Block",
        "slug": "select_block"
      },
      {
        "id": "2d82abc8-dcb3-489e-84cf-275d3b4f6967",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "select_cluster"
          ]
        ],
        "name": "Select Cluster",
        "slug": "select_cluster"
      },
      {
        "id": "53aa7106-3a58-4bc6-9fd8-288afb9cf522",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "select_school"
          ]
        ],
        "name": "Select School",
        "slug": "select_school"
      }
    ]
  },
  "dashCards": {
    "card_id": 126,
    "dashboard_tab_id": null,
    "id": 114,
    "parameter_mappings": [
      {
        "parameter_id": "89753241",
        "card_id": 126,
        "target": [
          "dimension",
          [
            "template-tag",
            "select_state"
          ]
        ]
      },
      {
        "parameter_id": "89753242",
        "card_id": 126,
        "target": [
          "dimension",
          [
            "template-tag",
            "select_district"
          ]
        ]
      },
      {
        "parameter_id": "89753243",
        "card_id": 126,
        "target": [
          "dimension",
          [
            "template-tag",
            "select_block"
          ]
        ]
      },
      {
        "parameter_id": "89753244",
        "card_id": 126,
        "target": [
          "dimension",
          [
            "template-tag",
            "select_cluster"
          ]
        ]
      },
      {
        "parameter_id": "89753245",
        "card_id": 126,
        "target": [
          "dimension",
          [
            "template-tag",
            "select_school"
          ]
        ]
      }
    ],
    "col": 0,
    "row": 25,
    "size_x": 24,
    "size_y": 7,
    "visualization_settings": {}
  }
}